{"version":3,"sources":["actions/update.js"],"names":["buildUpdate","middleware","micro","plugin","schema","criteria","params","options","sql","Promise","resolve","reject","getMyParams","table","tableName","builder","update","toSQL","then","count","findUpdated","catch","error","code","message","detail","affectedRows"],"mappings":";;;;;QAWgBA,W,GAAAA,W;;AAXhB;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;;;kBAEe,UAACC,UAAD,EAAaC,KAAb,EAAoBC,MAApB;AAAA,SACb,UAACC,MAAD,EAASC,QAAT,EAAmBC,MAAnB,EAA2BC,OAA3B;AAAA,WACEP,YAAYC,UAAZ,EAAwBG,MAAxB,EAAgCC,QAAhC,EAA0CC,MAA1C,EAAkDC,OAAlD,CADF;AAAA,GADa;AAAA,C;;AAIR,SAASP,WAAT,CAAsBC,UAAtB,EAAkCG,MAAlC,EAAoF;AAAA,MAA1CC,QAA0C,uEAA/B,EAA+B;AAAA,MAA3BC,MAA2B,uEAAlB,EAAkB;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAAA,qBAGrFA,OAHqF,CAEvFC,GAFuF;AAAA,MAEvFA,GAFuF,gCAEjF,KAFiF;;;AAKzF,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCN,eAAWD,OAAOQ,WAAP,CAAmBP,QAAnB,CAAX;;AAEA,QAAI,sBAAQA,QAAR,CAAJ,EAAuB;AACrB,aAAOK,QAAQ,IAAR,CAAP;AACD;;AAED,QAAMG,QAAQZ,WAAWG,OAAOU,SAAlB,CAAd;AACA,QAAMC,UAAU,2BAAYF,KAAZ,EAAmBR,QAAnB,EAA6BM,MAA7B,EACbK,MADa,CACN,yBAAUZ,MAAV,EAAkBE,MAAlB,EAA0BK,MAA1B,CADM,CAAhB;;AAGA,QAAIH,GAAJ,EAAS;AACP,aAAOE,QAAQK,QAAQE,KAAR,EAAR,CAAP;AACD;;AAED;AACA,2BAAWhB,UAAX,EAAuBG,MAAvB,EAA+BC,QAA/B,EACGa,IADH,CACQ,gBAAe;AAAA,UAAZC,KAAY,QAAZA,KAAY;;AACnB;AACA,UAAIA,UAAU,CAAd,EAAiB;AACf,eAAO,IAAP;AACD;;AAED,aAAOJ,QACJG,IADI,CACCE,WADD,EAEJC,KAFI,CAEE,iBAAS;AACdV,eAAOW,MAAMC,IAAN,iCAAgCD,KAAhC,GAAwC;AAC7CC,uCAD6C;AAE7CC,mBAASF,MAAMG;AAF8B,SAA/C;AAID,OAPI,CAAP;AAQD,KAfH,EAgBGP,IAhBH,CAgBQR,OAhBR,EAiBGW,KAjBH,CAiBSV,MAjBT;AAkBD,GAlCM,CAAP;;AAoCA,WAASS,WAAT,CAAqBM,YAArB,EAAmC;AACjC;AACA,QAAIA,iBAAiB,CAArB,EAAwB;AACtB,aAAO,IAAP;AACD;;AAED;AACA,WAAO,uBAAazB,UAAb,EAAyBG,MAAzB,EAAiCC,QAAjC,EAA2CE,OAA3C,CAAP;AACD;AACF","file":"update.js","sourceRoot":"../../src"}