{"version":3,"sources":["../../../../src/utils/schema-types/types/float.js"],"names":["value","schema","schemaValidate","options","Object","create","defaultLimitMin","defaultLimitMax","defaultLimit","limit","number","precision","min","max"],"mappings":";;;;;;AAAA;;;;AACA;;;;AAEA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe;AACbA,SAAQ,OADK;AAEbC,UAAQ,sBAAQC,cAAR;AAFK,C;;;AAKf,SAASA,cAAT,GAAuD;AAAA,MAA/BC,OAA+B,uEAArBC,OAAOC,MAAP,CAAc,IAAd,CAAqB;;AACrD,MAAMC,kBAAkB,CAAxB;AACA,MAAMC,kBAAkB,EAAxB;AACA,MAAMC,eAAe,CAArB;AAHqD,uBAItBL,OAJsB,CAI/CM,KAJ+C;AAAA,MAI/CA,KAJ+C,kCAIvCD,YAJuC;;;AAMrD,MAAI,CAAC,wBAASC,KAAT,CAAL,EAAsB;AACpBA,YAAQD,YAAR;AACD,GAFD,MAEO;AACL,QAAIC,QAAQH,eAAZ,EAA6B;AAAEG,cAAQH,eAAR;AAAyB;AACxD,QAAIG,QAAQF,eAAZ,EAA6B;AAAEE,cAAQF,eAAR;AAAyB;AACzD;;AAED,MAAMN,SAAS,cAAIS,MAAJ,GAAaC,SAAb,CAAuBF,KAAvB,CAAf;;AAEA,SAAO,+BAAgBN,OAAhB,EAAyBF,MAAzB,EAAiC,8CAGtC,yBAAU,EAAEW,2BAAF,EAAoBC,2BAApB,EAAV,CAHsC,CAAjC,CAAP;AAKD","file":"float.js","sourcesContent":["import Joi from 'joi';\nimport memoize from 'lodash.memoize';\n\nimport { MIN_INTEGER, MAX_INTEGER } from '../utils/constants';\nimport applyValidators from '../utils/apply-validators';\nimport setDefault from '../utils/validators/set-default';\nimport setMinMax from '../utils/validators/set-min-max';\nimport setRequired from '../utils/validators/set-required';\nimport isNumber from '../../../utils/is-number';\n\nexport default {\n  value : 'float',\n  schema: memoize(schemaValidate)\n};\n\nfunction schemaValidate(options = Object.create(null)) {\n  const defaultLimitMin = 0;\n  const defaultLimitMax = 15;\n  const defaultLimit = 6;\n  let { limit = defaultLimit } = options;\n\n  if (!isNumber(limit)) {\n    limit = defaultLimit;\n  } else {\n    if (limit < defaultLimitMin) { limit = defaultLimitMin }\n    if (limit > defaultLimitMax) { limit = defaultLimitMax }\n  }\n\n  const schema = Joi.number().precision(limit);\n\n  return applyValidators(options, schema, [\n    setDefault,\n    setRequired,\n    setMinMax({ min: MIN_INTEGER, max: MAX_INTEGER })\n  ]);\n}"]}