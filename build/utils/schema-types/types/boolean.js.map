{"version":3,"sources":["../../../../src/utils/schema-types/types/boolean.js"],"names":["value","schema","schemaValidate","convertIn","convertOut","options","boolean","toLowerCase","default"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe;AACbA,SAAQ,SADK;AAEbC,UAAQ,sBAAQC,cAAR,CAFK;AAGbC,WAHa;AAIbC;AAJa,C;;;AAOf,SAASF,cAAT,GAAuD;AAAA,MAA/BG,OAA+B,uEAArB,sBAAc,IAAd,CAAqB;;AACrD,SAAO,+BAAgBA,OAAhB,EAAyB,cAAIC,OAAJ,EAAzB,EAAwC,6CAAxC,CAAP;AAID;;AAED,SAASH,SAAT,CAAmBH,KAAnB,EAA0BK,OAA1B,EAAmC;AACjC,MAAI,sBAASL,KAAT,CAAJ,EAAqB;AACnBA,YAAQA,MAAMO,WAAN,OAAwB,MAAxB,GAAiC,IAAjC,GAAwCF,QAAQG,OAAxD;AACD;;AAED,MAAI,sBAAUR,KAAV,CAAJ,EAAsB;AACpBA,YAAQ,CAAC,CAACA,KAAF,GAAU,CAAV,GAAc,CAAtB;AACD;;AAED,SAAOA,KAAP;AACD;;AAED,SAASI,UAAT,CAAoBJ,KAApB,EAA2B;AACzB,MAAI,sBAASA,KAAT,CAAJ,EAAqB;AACnBA,YAAQA,UAAU,CAAlB;AACD;;AAED,SAAOA,KAAP;AACD","file":"boolean.js","sourcesContent":["import Joi from 'joi';\nimport memoize from 'lodash.memoize';\nimport isString from 'lodash.isstring';\nimport isBoolean from 'lodash.isboolean';\nimport isNumber from 'lodash.isnumber';\nimport applyValidators from '../utils/apply-validators';\nimport setDefault from '../utils/validators/set-default';\nimport setRequired from '../utils/validators/set-required';\n\nexport default {\n  value : 'boolean',\n  schema: memoize(schemaValidate),\n  convertIn,\n  convertOut,\n};\n\nfunction schemaValidate(options = Object.create(null)) {\n  return applyValidators(options, Joi.boolean(), [\n    setDefault,\n    setRequired\n  ]);\n}\n\nfunction convertIn(value, options) {\n  if (isString(value)) {\n    value = value.toLowerCase() === 'true' ? true : options.default;\n  }\n\n  if (isBoolean(value)) {\n    value = !!value ? 1 : 0;\n  }\n\n  return value;\n}\n\nfunction convertOut(value) {\n  if (isNumber(value)) {\n    value = value === 1;\n  }\n\n  return value;\n}"]}